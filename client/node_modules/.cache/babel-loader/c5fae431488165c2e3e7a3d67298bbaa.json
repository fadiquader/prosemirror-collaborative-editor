{"ast":null,"code":"/**\n * Isomorphic module for true random numbers / buffers / uuids.\n *\n * Attention: falls back to Math.random if the browser does not support crypto.\n *\n * @module random\n */\nimport * as math from './math.js';\nimport { cryptoRandomBuffer } from './isomorphic.js';\nexport const rand = Math.random;\n/* istanbul ignore next */\n\nexport const uint32 = () => new Uint32Array(cryptoRandomBuffer(4))[0];\n/**\n * @template T\n * @param {Array<T>} arr\n * @return {T}\n */\n\nexport const oneOf = arr => arr[math.floor(rand() * arr.length)]; // @ts-ignore\n\nconst uuidv4Template = [1e7] + -1e3 + -4e3 + -8e3 + -1e11;\nexport const uuidv4 = () => uuidv4Template.replace(/[018]/g,\n/** @param {number} c */\nc => (c ^ uint32() & 15 >> c / 4).toString(16));","map":{"version":3,"sources":["/Users/meeopp/Development/Others/editor-yjs/client/node_modules/lib0/random.js"],"names":["math","cryptoRandomBuffer","rand","Math","random","uint32","Uint32Array","oneOf","arr","floor","length","uuidv4Template","uuidv4","replace","c","toString"],"mappings":"AACA;;;;;;;AAQA,OAAO,KAAKA,IAAZ,MAAsB,WAAtB;AACA,SAASC,kBAAT,QAAmC,iBAAnC;AAEA,OAAO,MAAMC,IAAI,GAAGC,IAAI,CAACC,MAAlB;AAEP;;AACA,OAAO,MAAMC,MAAM,GAAG,MAAM,IAAIC,WAAJ,CAAgBL,kBAAkB,CAAC,CAAD,CAAlC,EAAuC,CAAvC,CAArB;AAEP;;;;;;AAKA,OAAO,MAAMM,KAAK,GAAGC,GAAG,IAAIA,GAAG,CAACR,IAAI,CAACS,KAAL,CAAWP,IAAI,KAAKM,GAAG,CAACE,MAAxB,CAAD,CAAxB,C,CAEP;;AACA,MAAMC,cAAc,GAAG,CAAC,GAAD,IAAQ,CAAC,GAAT,GAAe,CAAC,GAAhB,GAAsB,CAAC,GAAvB,GAA6B,CAAC,IAArD;AACA,OAAO,MAAMC,MAAM,GAAG,MAAMD,cAAc,CAACE,OAAf,CAAuB,QAAvB;AAAiC;AAAyBC,CAAC,IACrF,CAACA,CAAC,GAAGT,MAAM,KAAK,MAAMS,CAAC,GAAG,CAA1B,EAA6BC,QAA7B,CAAsC,EAAtC,CAD0B,CAArB","sourcesContent":["\n/**\n * Isomorphic module for true random numbers / buffers / uuids.\n *\n * Attention: falls back to Math.random if the browser does not support crypto.\n *\n * @module random\n */\n\nimport * as math from './math.js'\nimport { cryptoRandomBuffer } from './isomorphic.js'\n\nexport const rand = Math.random\n\n/* istanbul ignore next */\nexport const uint32 = () => new Uint32Array(cryptoRandomBuffer(4))[0]\n\n/**\n * @template T\n * @param {Array<T>} arr\n * @return {T}\n */\nexport const oneOf = arr => arr[math.floor(rand() * arr.length)]\n\n// @ts-ignore\nconst uuidv4Template = [1e7] + -1e3 + -4e3 + -8e3 + -1e11\nexport const uuidv4 = () => uuidv4Template.replace(/[018]/g, /** @param {number} c */ c =>\n  (c ^ uint32() & 15 >> c / 4).toString(16)\n)\n"]},"metadata":{},"sourceType":"module"}